{"models":[{"name":"Mario","scale":1,"script":"function die(){\n\t//start death animation\n\tstate = \"Die\";\n\tvy = -150;\n\tay = 200;\n\tvx = 0;\n\tax = 0;\n\tvsx = 0;\n}\nif(y > 240){\n\t//go to game over screen\n\tsx = 0;\n\tsy = 240;\n\tvsx = 0;\n\ttime = 0;\n\tstate = \"Die\";\n\tdespawn = true;\n}\n//update scroll speed\nif(state != \"Die\"){\n\tif(x-sx > 120)\n\t\tvsx = Math.max(50,vx+1);\n\telse if(x-sx < 50)\n\t\tvsx = Math.min(-50,vx+1);\n\telse\n\t\tvsx = 0;\n}\n\nif(state != \"Die\" \n\t\t&& state.search(\"Drop\") == -1\n\t\t&& state.search(\"Castle\") == -1){\n\tif(time < 0)\n\t\tdie();\n\tgravity();\n\t//jump handle\n\tif(collisions.bottom)\n\t\tvar jump = false;\n\tif(KeyJump && collisions.bottom && vy == 0){\n\t\tvar jump = true;\n\t\tvy = -120;\n\t}\n\tif(jump && KeyJump && vy < 0)\n\t\tay = 100;\n\tif(jump && vy > 0)\n\t\tay = 500;\n\t//direction\n\tvar dir;//global var\n\tvar crouch = state.search(\"Big\") != -1 && KeyDown;\n\tif(KeyRight){\n\t\tdir = \"Right\";\n\t\tif(!crouch)\n\t\t\tax = KeyRun ? 150 : 150;\n\t}else if(KeyLeft){\n\t\tdir = \"Left\";\n\t\tif(!crouch)\n\t\t\tax = KeyRun ? -150 : -100;\n\t}else{\n\t\tax = 0;\n\t\tvx *= 0.5;\n\t\tif(Math.abs(vx) < 10)\n\t\t\tvx = 0;\n\t}\n\tif(crouch){\n\t\tax = 0;\n\t\tvx *= 0.8;\n\t\tif(Math.abs(vx) < 10)\n\t\t\tvx = 0;\n\t}\n\t//update state\n\tvar big = state.search(\"Big\") != -1 ? \" Big\" : \"\";\n\tif(collisions.bottom){\n\t\tif(crouch)\n\t\t\tstate = \"Crouch \" + dir + big;\n\t\telse if(ax == 0 || vx == 0)\n\t\t\tstate = \"Stand \" + dir + big;\n\t\telse if((vx > 0) == (ax > 0))\n\t\t\tstate = \"Walk \" + dir + big;\n\t\telse\n\t\t\tstate = \"Drift \" + dir + big;\n\t}else{\n\t\tif(jump)\n\t\t\tstate = \"Jump \" + dir + big;\n\t\telse\n\t\t\tstate = \"Stand \" + dir + big;\n\t}\n\t//collisions\n\tvar invinsible;\n\tif(invinsible == undefined) invinsible = 0;\n\tif(invinsible > 0) invinsible--;\n\tfor(i = 0; i < collisions.sprite.length; i++){\n\t\tif((collisions.sprite[i].model == \"Goomba\"\n\t\t\t\t||collisions.sprite[i].model == \"Koopa\") \n\t\t\t\t&& invinsible == 0){\n\t\t\tif(vy > 0){\n\t\t\t\tvy = -100;\n\t\t\t}else if(state.search(\"Big\") != -1){\n\t\t\t\tstate = state.replace(\" Big\",\"\");\n\t\t\t\tvar invinsible = 20;\n\t\t\t}else{\n\t\t\t\tdie();\n\t\t\t}\n\t\t}else if(collisions.sprite[i].model == \"Plant\" \n\t\t\t\t&& invinsible == 0){\n\t\t\tif(state.search(\"Big\") != -1){\n\t\t\t\tstate = state.replace(\" Big\",\"\");\n\t\t\t\tvar invinsible = 20;\n\t\t\t}else{\n\t\t\t\tdie();\n\t\t\t}\n\t\t}else if(collisions.sprite[i].model == \"Red Mooshroom\" \n\t\t\t\t&& collisions.sprite[i].state != \"Idle\" \n\t\t\t\t&& state.search(\"Big\") == -1){\n\t\t\tstate += \" Big\";\n\t\t}else if(collisions.sprite[i].model == \"Flag\"){\n\t\t\tstate = \"Drop\" + big;\n\t\t\tax = 0;\n\t\t\tay = 0;\n\t\t\tvx = 0;\n\t\t\tvy = 50;\n\t\t\tx += 14;\n\t\t}\n\t}\n}","states":[{"frames":[{"collider":{"h":16,"w":13,"x":218,"y":398},"image":{"h":16,"w":13,"x":218,"y":398},"origin":{"x":224,"y":413}}],"name":"Stand Right","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":16,"x":307,"y":398},"image":{"h":16,"w":16,"x":307,"y":398},"origin":{"x":315,"y":413}},{"collider":{"h":15,"w":14,"x":248,"y":398},"image":{"h":15,"w":14,"x":248,"y":398},"origin":{"x":255,"y":412}},{"collider":{"h":16,"w":12,"x":279,"y":398},"image":{"h":16,"w":12,"x":279,"y":398},"origin":{"x":285,"y":413}}],"name":"Walk Right","script":"","solid":true,"speed":100},{"frames":[{"collider":{"h":16,"w":13,"x":368,"y":398},"image":{"h":16,"w":17,"x":366,"y":398},"origin":{"x":374,"y":413}}],"name":"Jump Right","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":14,"x":338,"y":398},"image":{"h":16,"w":14,"x":338,"y":398},"origin":{"x":345,"y":413}}],"name":"Drift Right","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":13,"x":188,"y":398},"image":{"h":16,"w":13,"x":188,"y":398},"origin":{"x":194,"y":413}}],"name":"Stand Left","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":16,"x":96,"y":398},"image":{"h":16,"w":16,"x":96,"y":398},"origin":{"x":103,"y":413}},{"collider":{"h":15,"w":14,"x":157,"y":398},"image":{"h":15,"w":14,"x":157,"y":398},"origin":{"x":163,"y":412}},{"collider":{"h":16,"w":12,"x":128,"y":398},"image":{"h":16,"w":12,"x":128,"y":398},"origin":{"x":133,"y":413}}],"name":"Walk Left","script":"","solid":true,"speed":100},{"frames":[{"collider":{"h":16,"w":13,"x":38,"y":398},"image":{"h":16,"w":17,"x":36,"y":398},"origin":{"x":44,"y":413}}],"name":"Jump Left","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":14,"x":67,"y":398},"image":{"h":16,"w":14,"x":67,"y":398},"origin":{"x":73,"y":413}}],"name":"Drift Left","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":15,"w":13,"x":68,"y":428},"image":{"h":15,"w":13,"x":68,"y":428},"origin":{"x":74,"y":442}}],"name":"Drop","script":"time += dt;\nscore += 50;\nif(vy == 0)\n\ttime -= 10;\nif(time < 0 && vy == 0){\n\tstate = \"Castle\";\n\ty += 16;\n\tx += 16;\n}","solid":true,"speed":50},{"frames":[{"collider":{"h":16,"w":16,"x":307,"y":398},"image":{"h":16,"w":16,"x":307,"y":398},"origin":{"x":315,"y":413}},{"collider":{"h":15,"w":14,"x":248,"y":398},"image":{"h":15,"w":14,"x":248,"y":398},"origin":{"x":255,"y":412}},{"collider":{"h":16,"w":12,"x":279,"y":398},"image":{"h":16,"w":12,"x":279,"y":398},"origin":{"x":285,"y":413}}],"name":"Castle","script":"gravity();\nvx = 100;\nif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Door\"){\n\tdespawn = true;\n\tvsx = 0;\n}","solid":false,"speed":100},{"frames":[{"collider":{"h":32,"w":16,"x":216,"y":450},"image":{"h":32,"w":16,"x":216,"y":450},"origin":{"x":224,"y":481}}],"name":"Stand Right Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":32,"w":16,"x":246,"y":450},"image":{"h":32,"w":16,"x":246,"y":450},"origin":{"x":254,"y":481}},{"collider":{"h":30,"w":16,"x":306,"y":451},"image":{"h":30,"w":16,"x":306,"y":451},"origin":{"x":314,"y":480}},{"collider":{"h":31,"w":14,"x":277,"y":450},"image":{"h":31,"w":14,"x":277,"y":450},"origin":{"x":284,"y":480}}],"name":"Walk Right Big","script":"","solid":true,"speed":100},{"frames":[{"collider":{"h":30,"w":12,"x":368,"y":452},"image":{"h":32,"w":16,"x":366,"y":450},"origin":{"x":374,"y":481}}],"name":"Jump Right Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":32,"w":16,"x":67,"y":450},"image":{"h":32,"w":16,"x":67,"y":450},"origin":{"x":76,"y":481}}],"name":"Drift Right Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":22,"w":16,"x":396,"y":455},"image":{"h":22,"w":16,"x":396,"y":455},"origin":{"x":404,"y":476}}],"name":"Crouch Right Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":32,"w":16,"x":187,"y":450},"image":{"h":32,"w":16,"x":187,"y":450},"origin":{"x":194,"y":481}}],"name":"Stand Left Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":32,"w":16,"x":157,"y":450},"image":{"h":32,"w":16,"x":157,"y":450},"origin":{"x":164,"y":481}},{"collider":{"h":30,"w":16,"x":97,"y":451},"image":{"h":30,"w":16,"x":97,"y":451},"origin":{"x":105,"y":480}},{"collider":{"h":31,"w":14,"x":128,"y":450},"image":{"h":31,"w":14,"x":128,"y":450},"origin":{"x":135,"y":480}}],"name":"Walk Left Big","script":"","solid":true,"speed":100},{"frames":[{"collider":{"h":30,"w":12,"x":39,"y":452},"image":{"h":32,"w":16,"x":37,"y":450},"origin":{"x":44,"y":481}}],"name":"Jump Left Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":32,"w":16,"x":336,"y":450},"image":{"h":32,"w":16,"x":336,"y":450},"origin":{"x":343,"y":481}}],"name":"Drift Left Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":22,"w":16,"x":7,"y":455},"image":{"h":22,"w":16,"x":7,"y":455},"origin":{"x":15,"y":476}}],"name":"Crouch Left Big","script":"","solid":true,"speed":200},{"frames":[{"collider":{"h":27,"w":14,"x":35,"y":487},"image":{"h":27,"w":14,"x":35,"y":487},"origin":{"x":42,"y":513}}],"name":"Drop Big","script":"time += dt;\nscore += 50;\nif(vy == 0)\n\ttime -= 10;\nif(time < 0 && vy == 0){\n\tstate = \"Castle Big\";\n\ty += 16;\n\tx += 16;\n}","solid":true,"speed":50},{"frames":[{"collider":{"h":32,"w":16,"x":246,"y":450},"image":{"h":32,"w":16,"x":246,"y":450},"origin":{"x":254,"y":481}},{"collider":{"h":30,"w":16,"x":306,"y":451},"image":{"h":30,"w":16,"x":306,"y":451},"origin":{"x":314,"y":480}},{"collider":{"h":31,"w":14,"x":277,"y":450},"image":{"h":31,"w":14,"x":277,"y":450},"origin":{"x":284,"y":480}}],"name":"Castle Big","script":"gravity();\nvx = 100;\nif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Door\"){\n\tdespawn = true;\n\tvsx = 0;\n}","solid":false,"speed":100},{"frames":[{"collider":{"h":6,"w":8,"x":400,"y":416},"image":{"h":14,"w":15,"x":397,"y":414},"origin":{"x":404,"y":427}}],"name":"Die","script":"","solid":false,"speed":200}]},{"name":"Goomba","scale":1,"script":"gravity();","states":[{"frames":[{"collider":{"h":13,"w":12,"x":2,"y":6},"image":{"h":16,"w":16,"x":0,"y":4},"origin":{"x":8,"y":19}},{"collider":{"h":13,"w":12,"x":32,"y":6},"image":{"h":16,"w":16,"x":30,"y":4},"origin":{"x":38,"y":19}}],"name":"Walk Left","script":"WalkLeft();\nif(collisions.sprite.length > 0 && (collisions.sprite[0].model == \"Mario\" || collisions.sprite[0].state == \"Shell\")){\n\tstate = \"Die\";\n\tframe = 1;\n}","solid":true,"speed":200},{"frames":[{"collider":{"h":13,"w":12,"x":2,"y":6},"image":{"h":16,"w":16,"x":0,"y":4},"origin":{"x":8,"y":19}},{"collider":{"h":13,"w":12,"x":32,"y":6},"image":{"h":16,"w":16,"x":30,"y":4},"origin":{"x":38,"y":19}}],"name":"Walk Right","script":"WalkRight();\nif(collisions.sprite.length > 0 && (collisions.sprite[0].model == \"Mario\" || collisions.sprite[0].state == \"Shell\")){\n\tstate = \"Die\";\n\tframe = 1;\n}","solid":true,"speed":200},{"frames":[{"collider":{"h":20,"w":31,"x":23,"y":7},"image":{"h":16,"w":16,"x":30,"y":4},"origin":{"x":38,"y":19}},{"collider":{"h":6,"w":12,"x":62,"y":9},"image":{"h":8,"w":16,"x":60,"y":8},"origin":{"x":68,"y":15}},{"collider":{"h":8,"w":28,"x":54,"y":11},"image":{"h":4,"w":16,"x":60,"y":10},"origin":{"x":68,"y":13}}],"name":"Die","script":"vx = 0;\nif(frame == 0){\n\tscore += 100;\n\tdespawn = true;\n}","solid":true,"speed":200}]},{"name":"Plant","scale":1.5,"script":"","states":[{"frames":[{"collider":{"h":23,"w":16,"x":420,"y":30},"image":{"h":23,"w":16,"x":420,"y":30},"origin":{"x":428,"y":52}},{"collider":{"h":24,"w":16,"x":390,"y":30},"image":{"h":25,"w":16,"x":390,"y":29},"origin":{"x":398,"y":53}},{"collider":{"h":23,"w":16,"x":420,"y":30},"image":{"h":23,"w":16,"x":420,"y":30},"origin":{"x":428,"y":52}},{"collider":{"h":24,"w":16,"x":390,"y":30},"image":{"h":25,"w":16,"x":390,"y":29},"origin":{"x":398,"y":53}},{"collider":{"h":23,"w":16,"x":420,"y":30},"image":{"h":23,"w":16,"x":420,"y":30},"origin":{"x":428,"y":52}},{"collider":{"h":24,"w":16,"x":390,"y":30},"image":{"h":25,"w":16,"x":390,"y":29},"origin":{"x":398,"y":53}}],"name":"Idle","script":"if(frame == 5){\n\tstate = \"Go Down\";\n\tframe = 1;\n}","solid":false,"speed":200},{"frames":[{"collider":{"h":23,"w":16,"x":420,"y":30},"image":{"h":23,"w":16,"x":420,"y":30},"origin":{"x":428,"y":52}},{"collider":{"h":19,"w":16,"x":420,"y":30},"image":{"h":19,"w":16,"x":420,"y":30},"origin":{"x":428,"y":48}},{"collider":{"h":15,"w":16,"x":420,"y":30},"image":{"h":15,"w":16,"x":420,"y":30},"origin":{"x":428,"y":44}},{"collider":{"h":11,"w":16,"x":420,"y":30},"image":{"h":11,"w":16,"x":420,"y":30},"origin":{"x":428,"y":40}},{"collider":{"h":8,"w":16,"x":420,"y":30},"image":{"h":9,"w":16,"x":420,"y":29},"origin":{"x":428,"y":37}},{"collider":{"h":4,"w":16,"x":420,"y":30},"image":{"h":5,"w":16,"x":420,"y":29},"origin":{"x":428,"y":33}},{"collider":{"h":0,"w":2,"x":427,"y":33},"image":{"h":1,"w":16,"x":420,"y":29},"origin":{"x":428,"y":29}}],"name":"Go Down","script":"if(frame == 6){\n\tstate = \"Down\";\n\tframe = 1;\n}","solid":false,"speed":200},{"frames":[{"collider":{"h":0,"w":2,"x":427,"y":33},"image":{"h":1,"w":16,"x":420,"y":29},"origin":{"x":428,"y":29}},{"collider":{"h":4,"w":16,"x":420,"y":30},"image":{"h":5,"w":16,"x":420,"y":29},"origin":{"x":428,"y":33}},{"collider":{"h":8,"w":16,"x":420,"y":30},"image":{"h":9,"w":16,"x":420,"y":29},"origin":{"x":428,"y":37}},{"collider":{"h":11,"w":16,"x":420,"y":30},"image":{"h":11,"w":16,"x":420,"y":30},"origin":{"x":428,"y":40}},{"collider":{"h":15,"w":16,"x":420,"y":30},"image":{"h":15,"w":16,"x":420,"y":30},"origin":{"x":428,"y":44}},{"collider":{"h":19,"w":16,"x":420,"y":30},"image":{"h":19,"w":16,"x":420,"y":30},"origin":{"x":428,"y":48}},{"collider":{"h":23,"w":16,"x":420,"y":30},"image":{"h":23,"w":16,"x":420,"y":30},"origin":{"x":428,"y":52}}],"name":"Go Up","script":"if(frame == 6){\n\tstate = \"Idle\";\n\tframe = 0;\n}","solid":false,"speed":200},{"frames":[{"collider":{"h":1,"w":2,"x":427,"y":32},"image":{"h":1,"w":16,"x":420,"y":29},"origin":{"x":428,"y":29}},{"collider":{"h":1,"w":2,"x":427,"y":32},"image":{"h":1,"w":16,"x":420,"y":29},"origin":{"x":428,"y":29}}],"name":"Down","script":"if(frame == 1){\n\tstate = \"Go Up\";\n\tframe = 1;\n}","solid":false,"speed":999}]},{"name":"Koopa","scale":1,"script":"gravity();","states":[{"frames":[{"collider":{"h":14,"w":16,"x":180,"y":9},"image":{"h":23,"w":16,"x":180,"y":0},"origin":{"x":188,"y":22}},{"collider":{"h":15,"w":16,"x":150,"y":9},"image":{"h":24,"w":16,"x":150,"y":0},"origin":{"x":159,"y":23}}],"name":"Walk Left","script":"WalkLeft();\nif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\"){\n\tscore += 100;\n\tstate = \"Shell\";\n\tvx = 100;\n\tframe = 1;\n}","solid":true,"speed":200},{"frames":[{"collider":{"h":14,"w":16,"x":210,"y":9},"image":{"h":23,"w":16,"x":210,"y":0},"origin":{"x":217,"y":22}},{"collider":{"h":15,"w":16,"x":240,"y":9},"image":{"h":24,"w":16,"x":240,"y":0},"origin":{"x":246,"y":23}}],"name":"Walk Right","script":"WalkRight();\nif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\"){\n\tscore += 100;\n\tstate = \"Shell\";\n\tvx = 100;\n\tframe = 1;\n}","solid":true,"speed":200},{"frames":[{"collider":{"h":14,"w":16,"x":360,"y":5},"image":{"h":14,"w":16,"x":360,"y":5},"origin":{"x":368,"y":18}}],"name":"Shell","script":"if(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\"){\n\tscore += 100;\n\tif(vx == 0)\n\t\tvx = 100;\n\telse \n\t\tvx = 0;\n}\nif(collisions.left){\n\tx -= -100 * dt;\n\tvx = 100;\n}\nif(collisions.right){\n\tx -= 100 * dt;\n\tvx = -100;\n}","solid":true,"speed":200}]},{"name":"Red Mooshroom","scale":1,"script":"","states":[{"frames":[{"collider":{"h":1,"w":10,"x":7,"y":291},"image":{"h":14,"w":15,"x":5,"y":277},"origin":{"x":12,"y":275}},{"collider":{"h":1,"w":10,"x":67,"y":291},"image":{"h":14,"w":15,"x":65,"y":277},"origin":{"x":72,"y":275}},{"collider":{"h":1,"w":10,"x":37,"y":291},"image":{"h":14,"w":15,"x":35,"y":277},"origin":{"x":42,"y":275}}],"name":"Idle","script":"questionBlock();","solid":false,"speed":200},{"frames":[{"collider":{"h":2,"w":16,"x":184,"y":306},"image":{"h":2,"w":16,"x":184,"y":306},"origin":{"x":192,"y":307}},{"collider":{"h":6,"w":16,"x":184,"y":306},"image":{"h":6,"w":16,"x":184,"y":306},"origin":{"x":192,"y":312}},{"collider":{"h":12,"w":16,"x":184,"y":306},"image":{"h":12,"w":16,"x":184,"y":306},"origin":{"x":192,"y":317}},{"collider":{"h":15,"w":16,"x":184,"y":306},"image":{"h":15,"w":16,"x":184,"y":306},"origin":{"x":192,"y":320}}],"name":"Grow","script":"if(frame == 3)\n\tstate = \"Walk Right\";","solid":false,"speed":100},{"frames":[{"collider":{"h":16,"w":16,"x":184,"y":306},"image":{"h":16,"w":16,"x":184,"y":306},"origin":{"x":192,"y":321}}],"name":"Walk Right","script":"gravity();\nif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\")\n\tstate = \"Die\";\nelse\n\tWalkRight();","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":16,"x":184,"y":306},"image":{"h":16,"w":16,"x":184,"y":306},"origin":{"x":192,"y":321}}],"name":"Walk Left","script":"gravity();\nif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\")\n\tstate = \"Die\";\nelse\n\tWalkLeft();","solid":true,"speed":200},{"frames":[{"collider":{"h":16,"w":16,"x":184,"y":306},"image":{"h":1,"w":1,"x":184,"y":306},"origin":{"x":192,"y":321}}],"name":"Die","script":"score += 1000;\ndespawn = true;","solid":true,"speed":200}]},{"name":"Coin Block","scale":1,"script":"","states":[{"frames":[{"collider":{"h":1,"w":10,"x":7,"y":291},"image":{"h":14,"w":15,"x":5,"y":277},"origin":{"x":12,"y":275}},{"collider":{"h":1,"w":10,"x":67,"y":291},"image":{"h":14,"w":15,"x":65,"y":277},"origin":{"x":72,"y":275}},{"collider":{"h":1,"w":10,"x":37,"y":291},"image":{"h":14,"w":15,"x":35,"y":277},"origin":{"x":42,"y":275}}],"name":"Idle","script":"questionBlock();","solid":false,"speed":200},{"frames":[{"collider":{"h":4,"w":8,"x":128,"y":367},"image":{"h":4,"w":8,"x":128,"y":367},"origin":{"x":132,"y":371}},{"collider":{"h":7,"w":8,"x":128,"y":367},"image":{"h":7,"w":8,"x":128,"y":367},"origin":{"x":132,"y":373}},{"collider":{"h":10,"w":8,"x":128,"y":367},"image":{"h":10,"w":8,"x":128,"y":367},"origin":{"x":132,"y":376}},{"collider":{"h":14,"w":8,"x":128,"y":367},"image":{"h":14,"w":8,"x":128,"y":367},"origin":{"x":132,"y":380}},{"collider":{"h":14,"w":8,"x":128,"y":367},"image":{"h":14,"w":8,"x":128,"y":367},"origin":{"x":132,"y":382}},{"collider":{"h":14,"w":8,"x":128,"y":367},"image":{"h":14,"w":8,"x":128,"y":367},"origin":{"x":132,"y":385}},{"collider":{"h":14,"w":8,"x":128,"y":367},"image":{"h":14,"w":8,"x":128,"y":367},"origin":{"x":132,"y":383}}],"name":"Grow","script":"if(frame == 6){\n\tcoins++;\n\tscore+=200;\n\tdespawn = true;\n}","solid":false,"speed":50}]},{"name":"Coin","scale":1,"script":"if(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\"){\n\tcoins++;\n\tscore+=200;\n\tdespawn = true;\n}","states":[{"frames":[{"collider":{"h":14,"w":8,"x":128,"y":367},"image":{"h":14,"w":8,"x":128,"y":367},"origin":{"x":132,"y":380}},{"collider":{"h":14,"w":8,"x":158,"y":367},"image":{"h":14,"w":4,"x":160,"y":367},"origin":{"x":162,"y":380}},{"collider":{"h":14,"w":6,"x":188,"y":367},"image":{"h":14,"w":2,"x":190,"y":367},"origin":{"x":191,"y":380}},{"collider":{"h":14,"w":6,"x":219,"y":367},"image":{"h":14,"w":4,"x":220,"y":367},"origin":{"x":222,"y":380}}],"name":"Idle","script":"","solid":false,"speed":200}]},{"name":"Flag","scale":1,"script":"if(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\")\n\tvy = -60;\nif(y < 60)\n\tvy = 0;","states":[{"frames":[{"collider":{"h":200,"w":6,"x":256,"y":122},"image":{"h":15,"w":15,"x":245,"y":307},"origin":{"x":258,"y":321}}],"name":"Idle","script":"","solid":false,"speed":20}]},{"name":"Game Over","scale":1,"script":"","states":[{"frames":[{"collider":{"h":10,"w":82,"x":444,"y":6},"image":{"h":10,"w":82,"x":444,"y":6},"origin":{"x":485,"y":11}}],"name":"Idle","script":"","solid":true,"speed":200}]},{"name":"Door","scale":1,"script":"","states":[{"frames":[{"collider":{"h":2,"w":2,"x":0,"y":0},"image":{"h":2,"w":2,"x":0,"y":0},"origin":{"x":0,"y":0}}],"name":"Idle","script":"","solid":true,"speed":200}]}],"script":"function gravity(){\n\t//apply gravity\n\tif(!collisions.bottom)\n\t\tay = 300;\n\t//collide with ground\n\tif(collisions.bottom && ay != 0){\n\t\tcollisions.tile = false;\n\t\tvy = 0;\n\t\tay = 0;\n\t}\n}\n\nfunction WalkLeft(){\n\tvx = -40;\n\tif(collisions.sprite.length > 0 && collisions.sprite[0].model != \"Mario\" || collisions.left){\n\t\tif(vy != 0)\n\t\t\tvy = -100;\n\t\telse{\n\t\t\tx -= vx*dt;\n\t\t\tvx = 40;\n\t\t\tstate = \"Walk Right\";\n\t\t}\n\t}\n}\n\nfunction WalkRight(){\n\tvx = 40;\n\tif(collisions.sprite.length > 0 && collisions.sprite[0].model != \"Mario\" || collisions.right){\n\t\tif(vy != 0)\n\t\t\tvy = -100;\n\t\telse{\n\t\t\tx -= vx*dt;\n\t\t\tvx = -40;\n\t\t\tstate = \"Walk Left\";\n\t\t}\n\t}\n}\n\nfunction questionBlock(){\n\tif(collisions.sprite.length > 0 && collisions.sprite[0].model == \"Mario\"){\n\t\tstate = \"Grow\";\n\t\tframe = 0;\n\t}\n}\n\n/*Screen scroll*/\nvar vsx;\nif(vsx == undefined)\n\tvsx = 0;\nelse\n\tsx += vsx*dt;"}